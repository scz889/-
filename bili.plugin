#!name = 哔哩哔哩全推荐屏蔽
#!desc = 屏蔽哔哩哔哩（Bilibili）所有推荐内容（视频推荐、直播推荐、动态、热门等），保留视频播放、搜索、评论等功能。\n需启用MitM解密HTTPS（包括HTTP/2）并信任Loon证书。\n建议Loon高级配置：代理模式设为“TUN Only”，域名拦截行为设为“DNS”，DNS拦截方式设为“LoopbackIP”。
#!author = Grok
#!homepage = https://github.com/SocialSisterYi/bilibili-API-collect
#!icon = https://raw.githubusercontent.com/SocialSisterYi/bilibili-API-collect/master/favicon.ico
#!tag = 去推荐, 去直播推荐, 哔哩哔哩
#!system = iOS, iPadOS
#!system_version = 15
#!loon_version = 3.2.1(372)
#!date = 2025-08-17 09:15:00

[General]
bypass-tun = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.0/8
skip-proxy = 127.0.0.1, localhost

[Rule]
# 屏蔽视频推荐相关API（需MitM解密HTTPS）
# URL-REGEX,https://api.bilibili.com/x/web-interface/.*(rcmd|recommend|hot|popular|index).*,REJECT
URL-REGEX,https://app.bilibili.com/x/v2/(feed|show|rank|hot).*,REJECT
URL-REGEX,https://api.bilibili.com/x/web-interface/wbi/.*(rcmd|recommend|hot|popular|index).*,REJECT
URL-REGEX,https://api.bilibili.com/x/feed/index.*,REJECT
URL-REGEX,https://api.bilibili.com/x/web-interface/index/top/rcmd.*,REJECT
URL-REGEX,https://api.bilibili.com/x/web-interface/index/top/feed/rcmd.*,REJECT

# 屏蔽直播推荐相关API（需MitM解密HTTPS）
URL-REGEX,https://api.live.bilibili.com/.*(rec|recommend|feed|getMoreRecList).*,REJECT
URL-REGEX,https://app.bilibili.com/.*live/.*(feed|rec|recommend).*,REJECT
URL-REGEX,https://api.live.bilibili.com/xlive/app-interface/v2/index/feed.*,REJECT
URL-REGEX,https://api.live.bilibili.com/xlive/web-interface/v1/webMain/getMoreRecList.*,REJECT

# 屏蔽动态及其他推荐相关API
URL-REGEX,https://api.bilibili.com/x/polymer/.*(recommend|hot).*,REJECT
URL-REGEX,https://api.vc.bilibili.com/dynamic_svr/.*(recommend|hot).*,REJECT
URL-REGEX,https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/dynamic_new.*,REJECT

# 确保其他功能正常（允许Bilibili主域名和相关服务）
DOMAIN,www.bilibili.com,DIRECT
DOMAIN,bilibili.com,DIRECT
DOMAIN-SUFFIX,biliapi.net,DIRECT
DOMAIN-SUFFIX,bilibili.com,DIRECT
DOMAIN-SUFFIX,bilibili.tv,DIRECT
DOMAIN-SUFFIX,grpc.biliapi.net,DIRECT

[MitM]
# 解密Bilibili推荐相关域名（支持通配符，针对HTTPS和HTTP/2请求）
hostname = api.bilibili.com, app.bilibili.com, api.live.bilibili.com, api.vc.bilibili.com, *.bilibili.com, grpc.biliapi.net
